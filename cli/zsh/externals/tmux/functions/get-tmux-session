#!/bin/zsh

local input=$1

if [ -z "$input" ]; then
    if [[ $(get-tmux-sessions) ]]; then
        local target_session=$(get-tmux-sessions | \
            fzf +m -w 40 -h 15 --bind 'ctrl-d:execute(tmux kill-session -t {})+reload(source ~/.zshrc && get-tmux-sessions)' | sed 's/[()]//g')
    else
        local target_session="default"
    fi
else
    local target_session="$input"
fi
echo $target_session
